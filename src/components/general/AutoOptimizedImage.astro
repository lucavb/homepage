---
import { Picture } from 'astro:assets';
import type { ImageMetadata } from 'astro';

interface Props {
    src: ImageMetadata;
    alt: string;
    width?: number;
    height?: number;
    loading?: 'lazy' | 'eager';
    decoding?: 'async' | 'sync' | 'auto';
    class?: string;
    sizes?: string;
}

const {
    src,
    alt,
    width = 800,
    height,
    loading = 'lazy',
    decoding = 'async',
    class: className = 'w-full h-auto object-cover rounded-lg',
    sizes = '(min-width: 1200px) 800px, (min-width: 800px) 600px, (min-width: 600px) 500px, 400px',
} = Astro.props;
---

<Picture
    src={src}
    alt={alt}
    width={width}
    height={height}
    widths={[400, 600, 800, 1024]}
    sizes={sizes}
    formats={['avif', 'webp', 'jpg']}
    quality={85}
    class={className}
    loading={loading}
    decoding={decoding}
/>
