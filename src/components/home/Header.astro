---
import { info } from '@data';
import NavigationLinks from '@components/general/NavigationLinks.astro';
import ThemeToggle from '@components/general/ThemeToggle.astro';
import MobileSidebar from '@components/general/MobileSidebar.astro';
import MobileMenuButton from '@components/general/MobileMenuButton.astro';

interface Props {
    isHomePage?: boolean;
}

const { isHomePage = true } = Astro.props;
---

<header
    class="fixed top-4 left-1/2 -translate-x-1/2 z-50 glass rounded-full shadow-lg shadow-black/5 px-2 w-[calc(100%-2rem)] max-w-3xl"
>
    <div class="flex items-center justify-between py-2 px-4">
        <a href="/" class="text-lg font-bold text-slate-900 dark:text-white gradient-hover-name inline-block">
            {info.name}
        </a>

        <NavigationLinks isHomePage={isHomePage} variant="desktop" />

        <div class="hidden md:flex items-center">
            <ThemeToggle variant="dropdown" />
        </div>

        <MobileMenuButton />
    </div>
</header>

<MobileSidebar isHomePage={isHomePage} />

<script>
    import { initEmailProtection } from '@utils';

    initEmailProtection([
        {
            elementId: 'mobile-email-link',
            options: { autoReveal: false, isDisplayElement: false },
        },
    ]);
</script>
