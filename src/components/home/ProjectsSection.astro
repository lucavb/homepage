---
import { info } from '@data';
import SectionTitle from '@components/general/SectionTitle.astro';
import ProjectCard from '@components/general/ProjectCard.astro';

const featureProjects = info.projects.reduce((accumulator, project) => {
    if (accumulator.length < 6 && project.isFeatured) {
        accumulator.push(project);
    }
    return accumulator;
}, []);
---

<!-- Projects Section -->
<section id="projects" class="py-20 bg-white dark:bg-gray-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <SectionTitle
            title="Featured Projects"
            description="A selection of impactful projects that showcase my expertise in enterprise software development and digital transformation."
        />
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
            {featureProjects.map((project) => <ProjectCard projectDetail={project} />)}
        </div>
        <div class="text-center mt-12">
            <a
                href="/projects"
                class="bg-gradient-to-br from-blue-600 to-indigo-700 text-white px-8 py-4 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1"
                onclick="_paq && _paq.push(['trackEvent', 'Navigation', 'View All Projects', 'Homepage']);"
            >
                View All Projects
            </a>
        </div>
    </div>
</section>
